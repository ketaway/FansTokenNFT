<!doctype html>
<html lang="en" class="h-100">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ระบบตรวจสอบ FansToken NFT" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nft.bitkub.com/" />
    <meta property="og:title" content="Welcome to FansToken NFT" />
    <meta property="og:description" content="ระบบตรวจสอบ FansToken NFT" />
    <meta property="og:image" content="https://i.ytimg.com/vi_webp/Lt0TFYprd4Q/maxresdefault.webp" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://nft.bitkub.com/" />
    <meta property="twitter:title" content="Welcome to Bitkub FansToken NFT" />
    <meta property="twitter:description" content="ระบบตรวจสอบ FansToken NFT" />
    <meta property="twitter:image" content="https://i.ytimg.com/vi_webp/Lt0TFYprd4Q/maxresdefault.webp" />
    <link rel="icon" href="https://www.fanstoken.io/favicon.ico" />
    <link rel="apple-touch-icon" href="https://www.fanstoken.io/logo192.png" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>FansToken NFT</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1-rc.2/web3.min.js" integrity="sha512-KURAVUCRxZKDemghhiNqTnYzVPUtO3GYznBZRWRBT2GJJ5PmePAxfO7QMGCM8xUJ0QfrUYJDrtRJM4L4NOtfow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap-utilities.min.css" integrity="sha512-kRvJclW5GazdbAJPE9vvs560XNBwTBGLg4RVHZALXHFnAWQeRbQ/jGcGDHcQXiiqRld4wEFs6Kpoa6Tm/wCrtg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap-reboot.min.css" integrity="sha512-stCMej6DXfErBwD8bQrJsG2dFPHNW9y8cmccQhW0o+GeSxKzjABmIVdwOzQ5Vlw4HYoEwrECGDRQs8xF0f9ssg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap-grid.min.css" integrity="sha512-q0LpKnEKG/pAf1qi1SAyX0lCNnrlJDjAvsyaygu07x8OF4CEOpQhBnYiFW6YDUnOOcyAEiEYlV4S9vEc6akTEw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js" integrity="sha512-pax4MlgXjHEPfCwcJLQhigY7+N8rt6bVvWLFyUMuxShv170X53TRzGPmPkZmGBhk+jikR8WBM4yl7A9WMHHqvg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://rawgit.com/toddmotto/echo/master/dist/echo.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <style>
        body {
            /*min-height: 75rem;*/
            padding-top: 4.5rem;
            /* overflow:hidden; */
            overflow-y: overlay !important; /* For scrollbar overlay on content */
            overflow-x: hidden !important;
        }
        /* width */
        ::-webkit-scrollbar {
          width: 5px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
          /* background: #f1f1f1; */
          background: transparent;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
          background: rgba(136, 136, 136, 0.7);
          border-radius: 10px;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
          background: #555; 
        }
        
    </style>
	<script>
	const contract_address=[{name:"Pleum VRZO (PL)",symbol:"PL",contract:"0xfb283132b1d97e3cd17c3e98f05cb6e466d68683"},{name:"Bie The Ska (BIE)",symbol:"BIE",contract:"0x7dac9892eb121caef5562fe9b36b1900c4a89425"},{name:"Kaykai Salaider (KK)",symbol:"KK",contract:"0xab2dd323bd91401150504bf60b88f6ca0e76ca1f"}],rpc_url="https://rpc.bitkubchain.io",web3=new Web3(new Web3.providers.HttpProvider(rpc_url)),card_template=({tokenid:t,image:e,name:a,rarity:n,description:o,symbol:i})=>`\n\t\t  <div id="${i}" class="col-auto text-center m-1 bg-light border rounded-3 text-truncate" style="width:175px !important; height:300px !important">\n\t\t\t<p class="text-center m-1 fw-bold fs-6">${a}</p>\n\t\t\t<img src="${e}" data-echo="${e}" tooltip="${o}" style="max-height:200px; max-width:155px; border-radius: 16px;"/>\n\t\t\t<p class="text-center m-1">ID: ${t}</p>\n\t\t\t<p class="text-center m-1 fw-bold">Rarity: ${n}</p>\n\t\t  </div>\n\t\t`,card_template_vdo=({tokenid:t,animation_url:e,name:a,rarity:n,description:o})=>`\n\t\t  <div class="col-auto text-center m-1 bg-light border rounded-3" style="width:160px !important; height:300px !important">\n\t\t\t<video autoplay="" loop="" playsinline="" style="max-height:200px; max-width:155px; border-radius: 16px;"><source src="${e}" type="video/mp4">Your browser does not support the video tag.</video>\n\t\t\t<p class="text-center">${t}</p>\n\t\t\t<p class="text-center mb-1 fw-bold fs-6">${a}</p>\n\t\t\t<p class="text-center">${n}</p>\n\t\t  </div>\n\t\t`;async function get_nft(t,e){const a="https://bkcscan.com/api?module=contract&action=getabi&address="+t.contract;let n,o,i,c,r,s;async function d(t){const e=await fetch(t);return await e.json()}r=t.symbol;try{return n=await fetch(a),o=await n.json(),i=await JSON.parse(o.result),c=await new web3.eth.Contract(i,t.contract),s=await c.methods.tokenOfOwnerByPage(e,1,100).call(),await async function(t,e){let a=[];for(const n of t){let t=await e.methods.tokenURI(n).call(),o=await d(t);o.tokenid=n,o.data_url=t,o.symbol=r,o.rarity=o.rarity.split(" ").map(t=>t[0].toUpperCase()).join(""),a.push(o)}return a}(s,c)}catch(t){console.log(t),$("#all_cards").html('<p class="mt-5">Error on loading please try again later.</p>')}}async function search_all_nft(t){let e=[];for(index in $("#all_cards").html('<div class="spinner-border mt-5" role="status" style="width:40px; height:40px"><span class="visually-hidden">Loading...</span></div>'),contract_address)$("#symbol_"+contract_address[index].symbol.toLowerCase()).prop("checked")&&(e=e.concat(await get_nft(contract_address[index],t)));return e}$(document).ready(()=>{$("#button-search").on("click",function(){console.log($("#input-address").val()),""!=$("#input-address").val().trim()&&search_all_nft($("#input-address").val().trim()).then(t=>{$("#all_cards").html(t.map(card_template).join("")),echo.init()})});const t=new URLSearchParams(window.location.search),e=t.get("address"),a=t.get("pl"),n=t.get("bie"),o=t.get("kk");null!=a&&$("#symbol_pl").prop("checked",1==a),null!=n&&$("#symbol_bie").prop("checked",1==n),null!=o&&$("#symbol_kk").prop("checked",1==o),null!=e&&($("#input-address").val(e),search_all_nft(e).then(t=>{$("#all_cards").html(t.map(card_template).join("")),echo.init()})),$("#symbol_pl").on("change",function(){$(this).is(":checked")?$('div[id="PL"]').show():$('div[id="PL"]').hide()}),$("#symbol_bie").on("change",function(){$(this).is(":checked")?$('div[id="BIE"]').show():$('div[id="BIE"]').hide()}),$("#symbol_kk").on("change",function(){$(this).is(":checked")?$('div[id="KK"]').show():$('div[id="KK"]').hide()}),$("#button-copy-link").on("click",()=>{""!=$("#input-address").val().trim()&&($text=window.location.href.split("?")[0],$text+="?address="+$("#input-address").val().trim(),$text+="&pl="+($("#symbol_pl").prop("checked")?"1":"0"),$text+="&bie="+($("#symbol_bie").prop("checked")?"1":"0"),$text+="&kk="+($("#symbol_kk").prop("checked")?"1":"0"),navigator.clipboard.writeText($text))})});	
	</script>
  </head>
  <body class="d-flex flex-column h-100">
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">KS</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
              <li class="nav-item">
                <a class="nav-link active" href="#">FansToken NFT</a>
              </li>
          </div>
        </div>
    </nav>
	<div class="container-fluid px-1">
		<div class="p-1 p-md-1 mb-0 sticky-top bg-light" style="top:3.5em;">
			<div class="row align-items-center">
				<div class="mb-1 col-xl-auto d-xl-flex align-items-center">
					<span class="fs-5 fw-bold">FansToken NFT</span>
					<div class="input-group mx-2 col-xl-auto">
						<input type="text" class="form-control" id="input-address" value="" placeholder="bitkub next wallet address" aria-label="bitkub next wallet address">
						<button class="btn btn-outline-secondary" type="button" id="button-search">Search</button>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="" id="symbol_pl" checked>
						<label class="form-check-label" for="symbol_pl">
						PL
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="" id="symbol_bie" checked>
						<label class="form-check-label" for="symbol_bie">
						BIE
						</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="checkbox" value="" id="symbol_kk" checked>
						<label class="form-check-label" for="symbol_kk">
						KK
						</label>
					</div>
					<button class="btn btn-outline-secondary" type="button" id="button-copy-link">Copy link</button>
				</div>
			</div>
		  
		</div>

		<div id="all_cards" class="row row-cols-auto g-1 mb-5 mt-0 px-1 pb-1 d-flex justify-content-center"></div>

		<footer class="footer mt-auto py-3 bg-light fixed-bottom">
			<div class="container">
				<span class="text-muted">Copyright © 2021 by Ketaway</span>
			</div>
		</footer>    
	</div>

  </body>
</html>
